<?cs set:js = Env.Page.Name ?>
<?cs include:"tpl/header.html" ?>

<div class="title">
	<h1><?cs var:Env.Section.dns_configuration.Title ?></h1>
</div>

<div class="content">
	<table id="dnshosts_config">
		<thead>
			<tr>
				<th scope="col" class="col_number">#</th>
				<th scope="col"><?cs call:varHeader("dnshosts_ip") ?></th>
				<th scope="col"><?cs call:varHeader("dnshosts_hostname") ?></th>
				<th scope="col" class="col_action" colspan="2"></th>
			</tr>
		</thead>
		<tbody>
			<?cs each:item = Var.DnshostsList ?>
			<tr>
				<td class="col_number">
					<?cs var:name(item) ?>
				</td>
				
				<td>
					<?cs var:item.ip.Value?>
				</td>

				<td>
					<?cs var:item.hostname.Value?>
				</td>

				<td class="col_action" colspan="2">
					<form method="post" action="<?cs var:Env.Page.Name ?>">
					<fieldset>
					<input type="hidden" name="action" value="remove" />
					<input type="hidden" name="row" value="<?cs name:item ?>" />
					<button class="button_remove" type="submit" name="submit"></button>
					</fieldset>
					</form>
				</td>
			</tr>
			<?cs /each?>

			<tr>
				<form method="post" action="<?cs var:Env.Page.Name ?>" >
				<td class="col_number">
					<?cs var:subcount(Var.DnshostsList) + #1 ?>
				</td>
				<td valign="top">
					<input type="text" name="dnshosts_ip_p0" class="<?cs if:?Var.dnshosts_ip_p0.Error || ?Var.dnshosts_ip.Error ?>error<?cs else ?>text<?cs /if ?> ip" id="dnshosts_ip_p0" size="3" maxlength="3" value="<?cs var:Var.dnshosts_ip_p0.Value?>" />&nbsp;.
					<input type="text" name="dnshosts_ip_p1" class="<?cs if:?Var.dnshosts_ip_p1.Error || ?Var.dnshosts_ip.Error ?>error<?cs else ?>text<?cs /if ?> ip" id="dnshosts_ip_p1" size="3" maxlength="3" value="<?cs var:Var.dnshosts_ip_p1.Value?>" />&nbsp;.
					<input type="text" name="dnshosts_ip_p2" class="<?cs if:?Var.dnshosts_ip_p2.Error || ?Var.dnshosts_ip.Error ?>error<?cs else ?>text<?cs /if ?> ip" id="dnshosts_ip_p2" size="3" maxlength="3" value="<?cs var:Var.dnshosts_ip_p2.Value?>" />&nbsp;.
					<input type="text" name="dnshosts_ip_p3" class="<?cs if:?Var.dnshosts_ip_p3.Error || ?Var.dnshosts_ip.Error ?>error<?cs else ?>text<?cs /if ?> ip" id="dnshosts_ip_p3" size="3" maxlength="3" value="<?cs var:Var.dnshosts_ip_p3.Value?>" />
					
					<?cs if:?Var.dnshosts_ip_p0.Error || ?Var.dnshosts_ip_p1.Error || ?Var.dnshosts_ip_p2.Error || ?Var.dnshosts_ip_p3.Error || ?Var.dnshosts_ip.Error?>
				        <div class="error">
						<?cs var:Env.Var.dnshosts_ip.Error[Var.dnshosts_ip.Error]?>
					</div>
					<?cs /if ?>
				</td>
				<td valign="top">
					<input type="text" 
					class="<?cs if:?Var.dnshosts_hostname.Error?>error<?cs else ?>text<?cs /if ?>" 
					value="<?cs var:Var.dnshosts_hostname.Value?>"
					name="dnshosts_hostname" 
					id="dnshosts_hostname" 
					size="30" 
					maxlength="70" />
					
					<?cs if:?Var.dnshosts_hostname.Error ?>
				        <div class="error">
						<?cs var:Env.Var.dnshosts_hostname.Error[Var.dnshosts_hostname.Error] ?>
					</div>
					<?cs /if ?>
				</td>
				<td class="col_action">
					<input type="hidden" name="action" value="add" />
					<button class="button_add" type="submit" name="submit"></button>
				</td>
				</form>
				
			</tr>
		</tbody>
	</table>
</div>

<?cs include:"tpl/footer.html" ?>
